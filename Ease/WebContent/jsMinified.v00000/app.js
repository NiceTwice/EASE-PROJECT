var easeApp=function(t){var o=this;this.rootEl=t,this.image=this.rootEl.find(".linkImage"),this.nameArea=this.rootEl.find(".siteName p"),this.name=this.rootEl.attr("name"),this.id=this.rootEl.attr("id"),this.webId=this.rootEl.attr("webid"),this.login=this.rootEl.attr("login"),this.increaseCatalagAppCount=function(){var t=parseInt($(".catalogApp[idx='"+o.webId+"'] span.apps-integrated i.count").html());$(".catalogApp[idx='"+o.webId+"'] span.apps-integrated i.count").html(t+1),$(".catalogApp[idx='"+o.webId+"'] span.apps-integrated").addClass("showCounter")},o.increaseCatalagAppCount(),this.setName=function(t){o.name=t,o.nameArea.text(t),o.rootEl.attr("name",t)},this.setId=function(t){o.id=t,o.rootEl.attr("id",t)},this.remove=function(){easeApps.splice(apps.indexOf(o),1),o.rootEl.remove()},this.image.on("click",function(){sendEvent(this)}),this.rootEl.find(".modifyAppButton").length&&this.rootEl.find(".modifyAppButton").on("click",function(t){showModifyAppPopup(this,t)}),this.rootEl.find(".deleteAppButton").length&&this.rootEl.find(".deleteAppButton").on("click",function(t){showConfirmDeleteAppPopup(this,t)})},easeApps=[],easeAppsManager,appsManager=function(){this.getAppsBySsoId=function(t){for(var o=[],e=0;e<easeApps.length;e++)easeApps[e].ssoId!=t||easeApps[e].isEmpty||o.push(easeApps[e]);return o},this.getAppsByLogin=function(t){for(var o=[],e=0;e<easeApps.length;e++)easeApps[e].login==t&&o.push(easeApps[e]);return o},this.getAppsByWebsiteId=function(t){for(var o=[],e=0;e<easeApps.length;e++)easeApps[e].websiteId==t&&o.push(easeApps[e]);return o},this.getAppsByWebsiteIdNotEmpty=function(t){for(var o=[],e=0;e<easeApps.length;e++)easeApps[e].websiteId!=t||easeApps[e].isEmpty||o.push(easeApps[e]);return o},this.getAppById=function(t){for(var o=0;o<easeApps.length;o++)if(easeApps[o].id==t)return easeApps[o];return null},this.getAppByLoginAndSsoId=function(t,o){for(var e=0;e<easeApps.length;e++)if(easeApps[e].ssoId==o&&easeApps[e].getAccountInformationValue("login")==t)return easeApps[e];return null},this.getAppsByLoginAndSsoId=function(t,o){for(var e=[],n=0;n<easeApps.length;n++)easeApps[n].ssoId==o&&easeApps[n].getAccountInformationValue("login")==t&&e.push(easeApps[n]);return e},this.removeApp=function(t){easeApps.splice(easeApps.indexOf(t),1)},this.addApp=function(t){easeApps.push(t)}};$(document).ready(function(){easeAppsManager=new appsManager});var MyApp=function(){var t=this;this.qRoot=null,this.logoHandler,this.appNameHandler,this.settingsButton,this.modifyAppButton,this.deleteAppButton,this.imageArea,this.imgSrc="",this.login="",this.id="",this.accountInformations=[],this.ssoId=-1,this.name,this.websiteId,this.logWith="",this.url="",this.currentProfile=null,this.isEmpty=!1,this.changeName=function(o){t.appNameHandler.text(o),t.name=o},this.init=function(o,e,n,i,s,a,p,r,u){return t.qRoot=$($("#boxHelper").html()),t.qRoot.attr("logwith",o.length?o:"false"),t.qRoot.attr("webid",n),t.qRoot.attr("id",s),t.qRoot.attr("ssoid",a),t.qRoot.attr("move",p),t.qRoot.attr("name",i),t.accountInformations=e,t.id=s,t.ssoId=a,t.name=i,t.websiteId=n,t.logWith=o,t.logoHandler=t.qRoot.find("img.logo"),t.logoHandler.attr("src",r),t.imgSrc=r,t.url=u,t.appNameHandler=t.qRoot.find(".siteName p"),t.settingsButton=t.qRoot.find(".showAppActionsButton"),t.imageArea=t.qRoot.find(".linkImage"),t.appNameHandler.text(i),t.imageArea.click(function(){sendEvent(this)}),t.settingsButton.click(function(o){o.preventDefault(),o.stopPropagation(),easeModifyAppPopup.open(t)}),t},this.initAccountInformations=function(){postHandler.post("GetAccountInformations",{appId:t.id},function(){},function(o){t.accountInformations=JSON.parse(o)},function(){})},this.getAccountInformationValue=function(o){for(var e=0;e<t.accountInformations.length;e++){var n=t.accountInformations[e];if(n.name===o)return n.value}return""},this.setAccountInformationValue=function(o,e){for(var n=0;n<t.accountInformations.length;n++){var i=t.accountInformations[n];if(i.name===o)return void(i.value=e)}},this.initWithQRoot=function(o){return t.qRoot=$(o),t.name=t.qRoot.attr("name"),t.id=t.qRoot.attr("id"),t.websiteId=t.qRoot.attr("webid"),t.ssoId=t.qRoot.attr("ssoid"),t.logWith=t.qRoot.attr("logwith"),t.logoHandler=t.qRoot.find("img.logo"),t.imgSrc=t.logoHandler.attr("lazy-src"),t.initAccountInformations(),t.qRoot.attr("url")&&(t.url=t.qRoot.attr("url"),t.qRoot.attr("url","")),t.qRoot.hasClass("emptyApp")&&(t.isEmpty=!0,t.qRoot.find(".emptyAppIndicator").click(function(o){o.preventDefault(),o.stopPropagation(),easeModifyAppPopup.open(t)})),t.appNameHandler=t.qRoot.find(".siteName p"),t.settingsButton=t.qRoot.find(".showAppActionsButton"),t.imageArea=t.qRoot.find(".linkImage"),t.imageArea.click(function(){sendEvent(this)}),t.settingsButton.click(function(o){o.preventDefault(),o.stopPropagation(),easeModifyAppPopup.open(t)}),t},this.remove=function(){t.qRoot.remove()},this.scaleAnimate=function(){t.imageArea.addClass("scaleinAnimation"),t.imageArea.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){t.imageArea.removeClass("scaleinAnimation")})}};