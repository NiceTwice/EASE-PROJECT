function onMessage(e){var o=JSON.parse(e.data),i=o.action,t=o.data;if("connect"===i)window.location="/";else if("setSocketId"===i)socketId=t.socketId;else if("addProfile"===i)addProfileToDashboard(t.name,t.color,t.profile_id);else if("logout"===i)window.location="/";else if("ping"===i)console.log("ping"),pingServer();else if("removeProfile"===i){var n=profiles.findIndex(function(e){return e.id===t.profile_id});console.log("remove profile "+n),console.log(profiles),n>-1&&(console.log(profiles[n]),profiles[n].remove()),console.log(profiles)}else if("moveProfile"===i){easeDashboard.columns.each(function(){$(this).find(".item").length||$(this).width("24.8%")});var l=t.profile_id,s=t.profileIdx,a=t.columnIdx,r=$("#"+l+".item");$(".dashboardColumn:nth-child("+a+") .item:nth-child("+s+")").append(r),easeDashboard.columns.each(function(){$(this).find(".item").length||$(this).width(0)})}else if("addClassicApp"==i){console.log("addClassicApp");var d=t.sitesContainerId,c=$.parseHTML(t.newAppItem);c.attr("webid",t.websiteId),c.attr("name",t.name),c.attr("logwith","false"),c.attr("id",t.appId),c.attr("move","true"),c.attr("ssoid","0"),c.attr("class","siteLinkBox"),$("#"+d+".SitesContainer").append(c)}}function pingServer(){console.log("ping loop"),$.get("localhost:8080/connectionWithCookies"),setTimeout(function(){pingServer()},5e3)}socketId=null;